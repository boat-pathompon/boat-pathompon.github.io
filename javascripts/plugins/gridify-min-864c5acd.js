"use strict";!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.fn.extend({imagesLoaded:function(e){var i=t(this).find("img"),n=i.length;0==n&&e();for(var a=0,r=i.length;r>a;a++){var o=new Image;o.onload=o.onerror=function(){n--,0==n&&e()},o.src=i[a].src}},gridify:function(e){var i=t(this),e=e||{},n=function(t){for(var e=0,i=1,n=t.length;n>i;i++)t[i]<t[e]&&(e=i);return e},a=function(){i.css("position","relative");var a=i.find(e.srcNode),r=(e.transition||"all 0.5s ease")+", height 0, width 0",o=i.innerWidth(),s=parseInt(e.margin||0),u=parseInt(e.max_width||e.width||220),d=Math.max(Math.floor(o/(u+s)),1),m=1==d?s/2:o%(u+s)/2,l=[];e.max_width&&(d=Math.ceil(o/(u+s)),u=(o-d*s-s)/d,m=s/2);for(var f=0;d>f;f++)l.push(0);for(var f=0,h=a.length;h>f;f++){var c=t(a[f]),g=n(l);c.css({width:u,position:"absolute",margin:s/2,top:l[g]+s/2,left:(u+s)*g+m,transition:r}),l[g]+=c.innerHeight()+s}};if(i.imagesLoaded(a),e.resizable){var r=t(window).bind("resize",a);i.on("remove",r.unbind)}}})});